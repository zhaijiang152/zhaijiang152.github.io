<!DOCTYPE html>
<html>
    <head>
    <!--Theme is ning by ning0818. See https://github.com/ning0818/hexo-theme-ning-->
    <script src=/app.js></script>
    <link rel="stylesheet" href="https://jsd.onmicrosoft.cn/gh/ning0818/CDN-Files/ai.css">
    <link href="https://cdn.bootcss.com/highlight.js/8.0/styles/monokai_sublime.min.css" rel="stylesheet">
    <script src="https://cdn.bootcss.com/highlight.js/8.0/highlight.min.js"></script>
    <script>
        hljs.initHighlightingOnLoad();
    </script>
    <style>
    .ai-summary {
    background: #f1f3f8;
    border-radius: 10px;
    padding: 12px;
    line-height: 1.3;
    border: 1px solid #e3e8f7;
    margin-bottom: 16px;
    </style>
    <link rel="shortcut icon" href="https://www.yuanning0818.tk/logo.png" type="image/x-icon">
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <link rel="stylesheet" class="nightmode" href="/assets/css/main.css">
    <link rel="stylesheet" href="https://npm.elemecdn.com/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <script async src="https://npm.elemecdn.com/penndu@1.0.0/bsz.js"></script>
    <link rel="stylesheet" class="nightmode" href="/css/style.css">
    <link rel="stylesheet" class="nightmode" href="/css/plugin.css">
    <script src="/js/pandown.js"></script>
<meta name="generator" content="Hexo 7.3.0"></head>
    <body>
        <div class="container">
            <body class="no-touch">
    <div id="app" class="App affix App--index" style="min-height: 744px;" aria-hidden="false">

        <div id="app-navigation" class="App-navigation">
            <div class="Navigation ButtonGroup App-backControl"><button class="Button Button--icon Navigation-drawer hasIcon" type="button" aria-label="打开导航抽屉"><i aria-hidden="true" class="icon fas fa-bars Button-icon"></i><span class="Button-label"></span></button></div>
        </div>

        <div id="drawer" class="App-drawer">

            <header id="header" class="App-header navbar-fixed-top">
                <div id="header-navigation" class="Header-navigation">
                    <div class="Navigation ButtonGroup"></div>
                </div>
                <div class="container">
                    <div class="Header-title">
                        <a href="/" id="home-link">
                            <!--顶栏logo-->
                            <img src="https://www.yuanning0818.tk/logo.png" alt="首页" class="Header-logo">
                            <!--顶栏logo end-->
                        </a>
                    </div>
                    <div id="header-primary" class="Header-primary">
                        <ul class="Header-controls">
                            <!--顶栏内容-->
                            
                            <li class="item-link4">
                                <a class="LinksButton Button Button--link active" href="/">
                                    <!--<i aria-hidden="true" class="icon fas fa-home Button-icon LinksButton-icon"></i>-->
                                    <span class="LinksButton-title">首页</span>
                                </a>
                            </li>
                            
                            <li class="item-link4">
                                <a class="LinksButton Button Button--link active" href="/tags/">
                                    <!--<i aria-hidden="true" class="icon fas fa-home Button-icon LinksButton-icon"></i>-->
                                    <span class="LinksButton-title">标签</span>
                                </a>
                            </li>
                            
                            <!--顶栏内容 end-->
                        </ul>
                    </div>
                    <div id="header-secondary" class="Header-secondary">
                        <ul class="Header-controls">
                            
                                
                                <li class="item-nightmode">
                                    <button class="Button Button--flat hasIcon" type="button">
                                        <a href="/">
                                        <i aria-hidden="true" class="bi bi-house-door"></i>
                                        <span class="Button-label">首页</span>
                                        </a>
                                    </button>
                                </li>
                            
                                
                                <li class="item-nightmode">
                                    <button class="Button Button--flat hasIcon" type="button">
                                        <a target="_blank" rel="noopener" href="https://github.com/ning0818/">
                                        <i aria-hidden="true" class="bi bi-github"></i>
                                        <span class="Button-label">Github</span>
                                        </a>
                                    </button>
                                </li>
                            
                        </ul>
                    </div>
                </div>
            </header>

        </div>
            <title>笔记 | 忧寒的小窝</title>
<main class="App-content">
    <div id="content">
        <div class="IndexPage">
            <div class="container">
                <div class="sideNavContainer">
                    <div class="IndexPage-results sideNavOffset">
                        <div id="post">
                        <div class="card" id="title">
                        <h1>笔记</h1>
                        </div>
                        <div class="card" id="post-body">
                        
                        <div class=ai-summary>
                        <div class=title>
                            <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink width=20px height=20px viewBox="0 0 48 48">
                                <g stroke=none stroke-width=1 fill=none fill-rule=evenodd>
                                    <path d="M34.717885,5.03561087 C36.12744,5.27055371 37.079755,6.60373651 36.84481,8.0132786 L35.7944,14.3153359 L38.375,14.3153359 C43.138415,14.3153359 47,18.1768855 47,22.9402569 L47,34.4401516 C47,39.203523 43.138415,43.0650727 38.375,43.0650727 L9.625,43.0650727 C4.861585,43.0650727 1,39.203523 1,34.4401516 L1,22.9402569 C1,18.1768855 4.861585,14.3153359 9.625,14.3153359 L12.2056,14.3153359 L11.15519,8.0132786 C10.920245,6.60373651 11.87256,5.27055371 13.282115,5.03561087 C14.69167,4.80066802 16.024865,5.7529743 16.25981,7.16251639 L17.40981,14.0624532 C17.423955,14.1470924 17.43373,14.2315017 17.43948,14.3153359 L30.56052,14.3153359 C30.56627,14.2313867 30.576045,14.1470924 30.59019,14.0624532 L31.74019,7.16251639 C31.975135,5.7529743 33.30833,4.80066802 34.717885,5.03561087 Z M38.375,19.4902885 L9.625,19.4902885 C7.719565,19.4902885 6.175,21.0348394 6.175,22.9402569 L6.175,34.4401516 C6.175,36.3455692 7.719565,37.89012 9.625,37.89012 L38.375,37.89012 C40.280435,37.89012 41.825,36.3455692 41.825,34.4401516 L41.825,22.9402569 C41.825,21.0348394 40.280435,19.4902885 38.375,19.4902885 Z M14.8575,23.802749 C16.28649,23.802749 17.445,24.9612484 17.445,26.3902253 L17.445,28.6902043 C17.445,30.1191812 16.28649,31.2776806 14.8575,31.2776806 C13.42851,31.2776806 12.27,30.1191812 12.27,28.6902043 L12.27,26.3902253 C12.27,24.9612484 13.42851,23.802749 14.8575,23.802749 Z M33.1425,23.802749 C34.57149,23.802749 35.73,24.9612484 35.73,26.3902253 L35.73,28.6902043 C35.73,30.1191812 34.57149,31.2776806 33.1425,31.2776806 C31.71351,31.2776806 30.555,30.1191812 30.555,28.6902043 L30.555,26.3902253 C30.555,24.9612484 31.71351,23.802749 33.1425,23.802749 Z" fill=#425aef fill-rule=nonzero></path>
                                </g>
                            </svg>
                            <div class=title>智能摘要</div>
                        </div>
                        <div class=content id=ai-summary>获取中……</div>
                    </div>
                    <script>
                        function ai_summary() {
                            Ning.console.debug(`AI摘要插件
API URL: https://ai.ning0818.top
Key: 
发送的内容: ` + (document.title + " " + document.getElementById("post").innerText.replaceAll("\n", " ")).substring(0, 201)),
                            fetch("https://ai.ning0818.top/?key=&content=" + (document.title + " " + document.getElementById("post").innerText.replaceAll("\n", " ")).substring(0, 201)).then(function(t) {
                                t.json().then(function(t) {
                                    document.getElementById("ai-summary").innerHTML = t.summary
                                }).catch(function(t) {
                                    document.getElementById("ai-summary").innerHTML = "代码出现故障：" + t
                                })
                            }).catch(function(t) {
                                document.getElementById("ai-summary").innerHTML = "代码出现故障：" + t
                            })
                        }
                        Ning.onload.add(ai_summary)
                    </script>
                        
                        <p><h1 id="ios开发-（天气pro-max解析）"><a href="#ios开发-（天气pro-max解析）" class="headerlink" title="ios开发  （天气pro max解析）"></a>ios开发  （天气pro max解析）</h1><h2 id="1-SceneDelegate-swift文件"><a href="#1-SceneDelegate-swift文件" class="headerlink" title="1.SceneDelegate.swift文件"></a>1.SceneDelegate.swift文件</h2><h4 id="在SceneDelegate-swift文件中，将app点开时，初始视图封装在导航栈NavigationController中"><a href="#在SceneDelegate-swift文件中，将app点开时，初始视图封装在导航栈NavigationController中" class="headerlink" title="在SceneDelegate.swift文件中，将app点开时，初始视图封装在导航栈NavigationController中"></a>在SceneDelegate.swift文件中，将app点开时，初始视图封装在导航栈NavigationController中</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> window: <span class="type">UIWindow</span>?</span><br><span class="line"></span><br><span class="line">  <span class="keyword">func</span> <span class="title function_">scene</span>(<span class="keyword">_</span> <span class="params">scene</span>: <span class="type">UIScene</span>, <span class="params">willConnectTo</span> <span class="params">session</span>: <span class="type">UISceneSession</span>, <span class="params">options</span> <span class="params">connectionOptions</span>: <span class="type">UIScene</span>.<span class="type">ConnectionOptions</span>) &#123;</span><br><span class="line">      <span class="keyword">guard</span> <span class="keyword">let</span> windowScene <span class="operator">=</span> (scene <span class="keyword">as?</span> <span class="type">UIWindowScene</span>) <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">      </span><br><span class="line">      <span class="comment">// 创建 UIWindow</span></span><br><span class="line">      window <span class="operator">=</span> <span class="type">UIWindow</span>(windowScene: windowScene)</span><br><span class="line">      </span><br><span class="line">      <span class="comment">// 创建 ViewController</span></span><br><span class="line">      <span class="keyword">let</span> viewController <span class="operator">=</span> <span class="type">ViewController</span>()</span><br><span class="line">      </span><br><span class="line">      <span class="comment">// 创建 UINavigationController，并将 ViewController 设置为根视图控制器</span></span><br><span class="line">      <span class="keyword">let</span> navigationController <span class="operator">=</span> <span class="type">UINavigationController</span>(rootViewController: viewController)</span><br><span class="line">      </span><br><span class="line">      <span class="comment">// 将导航控制器设置为 window 的根视图控制器</span></span><br><span class="line">      window<span class="operator">?</span>.rootViewController <span class="operator">=</span> navigationController</span><br><span class="line">      </span><br><span class="line">      <span class="comment">// 显示 window</span></span><br><span class="line">      window<span class="operator">?</span>.makeKeyAndVisible()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>调用下面一行</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> navigationController <span class="operator">=</span> <span class="type">UINavigationController</span>(rootViewController: viewController)</span><br></pre></td></tr></table></figure>
<p>用 rootViewController 设置根视图为 “viewController”视图，（根视图就是点开app时会进入的第一个视图），而调用UINavigationController会将cityView压入一个导航栈中，这样就可以在屏幕上方显示或隐藏导航栏，也可以设置导航栏标题</p>
<h2 id="2-ViewController-swift文件"><a href="#2-ViewController-swift文件" class="headerlink" title="2.ViewController.swift文件"></a>2.ViewController.swift文件</h2><p>在ViewController.swift文件中调用,在视图即将打开时进行初始化</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="keyword">func</span> <span class="title function_">viewDidLoad</span>() &#123;</span><br><span class="line">     <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line">     <span class="keyword">self</span>.navigationItem.title <span class="operator">=</span> <span class="string">&quot;天气查看&quot;</span></span><br><span class="line">     addViewandnavigation()</span><br><span class="line"> &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>下一行函数</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="keyword">func</span> <span class="title function_">viewDidLoad</span>() &#123;</span><br><span class="line">       <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line">   &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>viewDidLoad()会在视图打开之前“自动调用”，不需要控制。  self.navigationItem.title &#x3D; “天气查看”，一行中设置了导航栏标题</p>
</p>
                        </div>
                        <div class="share card" id="sharecard">
                            <link rel="stylesheet" class="nightmode" href="/css/copyright.css">
                            <div class="copyright">
                                <i class="bi bi-c-circle icon"></i>
                                <div class="text">
                                    <br>
                                    <p>博客内容遵循 署名-非商业性使用-相同方式共享 4.0 国际 (CC BY-NC-SA 4.0) 协议</p>
                                    <p>本文永久链接是：<a href="http://example.com/2025/03/29/iOS%EF%BC%881%EF%BC%89/">http://example.com/2025/03/29/iOS%EF%BC%881%EF%BC%89/</a>
                                    </p>
                                </div>
                            </div>
                        </div>
                        </div>
                        <div class="card">
                            <h2><i class="bi bi-chat-fill"></i> 评论</h2>
                            <link rel="stylesheet" href="https://unpkg.com/@waline/client@v2/dist/waline.css"/>
<div id="comments"></div>
<script type="module">
  import { init } from 'https://unpkg.com/@waline/client@v2/dist/waline.mjs';

  init({
    el: '#comments',
    serverURL: 'https://waline.ning0818.top',
  });
</script>
                        </div>
                    </div>
                    <div class="AfruxWidgets-sideNavAlt AfruxWidgets-WidgetSection">
    <div class="AfruxWidgets-Widget welcomebox-widget">
        <div class="AfruxWidgets-Widget-content">
            <div class="containerwb">
                <div class="backgrwb">
                    <div><a href="/">
                            <div class="avatarwb">
                                <div class="AvatarEditor Dropdown">
                                    <!--侧栏logo-->
                                    <img loading="eager" class="Avatar" src="https://www.yuanning0818.tk/logo.png" alt="">
                                    <!--侧栏logo end-->
                                    <ul class="Dropdown-menu Menu">
                                        <li class="item-upload"><button class="hasIcon" type="button"><i aria-hidden="true" class="icon fas fa-upload Button-icon"></i><span class="Button-label">上传</span></button></li>
                                        <li class="item-remove"><button class="hasIcon" type="button"><i aria-hidden="true" class="icon fas fa-times Button-icon"></i><span class="Button-label">移除</span></button></li>
                                    </ul>
                                </div>
                            </div>
                        </a></div>
                    <div class="contentwb">
                        <div class="textinfo"><strong><span class="username">忧寒的小窝</span></strong></div>
                        <div class="cont">
                            <div class="circletop">
                                
                                    
                                    <a href="/about/" title="关于">
                                        <i class="bi bi-file-earmark-person-fill"></i>
                                    </a>
                                
                                    
                                    <a href="/about/" title="Github">
                                        <i class="bi bi-github"></i>
                                    </a>
                                
                            </div>
                        </div>
                    </div>
                    <div class="iconbadge"></div>
                </div>
            </div>
        </div>
    </div>
    
        
        <div class="AfruxWidgets-Widget Afrux-ForumStatsWidgetWidget">
            <div class="AfruxWidgets-Widget-title">
                <span class="AfruxWidgets-Widget-title-icon">
                    <i aria-hidden="true" class="bi bi-bell-fill"></i>
                </span>
                <span class="AfruxWidgets-Widget-title-label">公告</span>
                <div class="AfruxWidgets-Widget-title-desc">
                </div>
            </div>
            <div class="AfruxWidgets-Widget-content">
                <p>这是一个公告</p>
            </div>
        </div>
    
    <div class="AfruxWidgets-Widget Afrux-ForumStatsWidgetWidget">
        <div class="AfruxWidgets-Widget-title">
            <span class="AfruxWidgets-Widget-title-icon">
                <i aria-hidden="true" class="bi bi-alexa"></i>
            </span>
            <span class="AfruxWidgets-Widget-title-label">统计</span>
            <div class="AfruxWidgets-Widget-title-desc">
            </div>
        </div>
        <div class="AfruxWidgets-Widget-content">
            <div class="Afrux-ForumStatsWidget-grid">
                    <p>访客数<span id="busuanzi_value_site_uv"></span>人</p>
                    <p>访问量<span id="busuanzi_value_site_pv"></span>次</p>
        </div>
    </div>
</div>
<div class="AfruxWidgets-bottomWidgetSection AfruxWidgets-WidgetSection"></div>

                </div>
            </div>
        </div>
        
        
    <noscript>
        <div class="Alert">
            <div class="container">
                请使用更现代的浏览器并启用 JavaScript 以获得最佳浏览体验。
            </div>
        </div>
    </noscript>
</main>
</div>
</body>
            <hr>
<div>
    
<!--这里是靠左的底栏-->
<a href="https://icp.gov.moe/?keyword=20221982" target="_blank">萌ICP备20221982号</a>

</div>
<div style="text-align: right;">

<!--这里是靠右的底栏-->
<p>Theme is <a target="_blank" rel="noopener" href="https://github.com/ning0818/hexo-theme-ning">Ning</a> By <a target="_blank" rel="noopener" href="https://www.yuanning0818.tk">Ning0818</a></p>
<p>Powerd By <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a></p>


</div>
        </div>
    </body>
    </html> 